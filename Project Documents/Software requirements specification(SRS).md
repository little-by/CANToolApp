# CanToolApp for Windows 软件需求说明书

## 目录

  * [1. 引言](#1-引言)
    * [1.1 目的](#11-目的)
    * [1.2 背景](#12-背景)
    * [1.3 定义](#13-定义)
    * [1.4 参考文献](#14-参考文献)
  * [2. 项目概述](#2-项目概述)
    * [2.1 产品背景](#21-产品背景)
    * [2.2 产品描述](#22-产品描述)
    * [2.3 产品功能](#23-产品功能)
    * [2.4 用户特点](#24-用户特点)
    * [2.5 假设与约束](#25-假设与约束)
  * [3. 需求规定](#3-具体需求)
    * [3.1 对功能的规定](#31-对功能的规定)
    * [3.2 对性能的规定](#32-对性能的规定)


## 1. 引言

### 1.1 目的
编写本软件需求说明书的目的是为了使本开发小组对本次将要开发的项目的需求达成共识，并为项目的开发和验收提供依据，并依据此文档安排项目规划与进度，使开发出来的软件能够更好的达到用户的需求，同时本文档亦作为软件概要设计和测试的参考，为项目中的开发人员明确本项目的需求，包括功能需求和非功能需求说明。

### 1.2 背景
- 待开发的软件系统名称：CanToolApp for Windows
- 本项目的任务提出：《现代软件工程》课程任务
- 本项目的开发者：张久武 么红帅 郭思莹 曲晗东
- 本项目的最终用户：现代汽车使用者
- 该软件系统与其他系统的关系：本软件系统与CanTool装置进行通信；与测试小组一起完成软件系统的测试。

### 1.3 定义
1. CAN bus：是一种强大的车辆总线标准，旨在允许允许微控制器和设备在没有主机的应用中相互通信。
2. ECU：全称为Electronic Control Unit. A control device used in vehicle.
3. CanTool装置：用于CAN bus的CAN信息采集与发送的装置。
4. CAN message：CAN message 由CAN id，dlc，data构成。
5. CAN signal：Can Signal是分布在CANmessage中的CAN信号，具有一定物理意义。
6. CAN信息和信号数据库：用于存储CAN信息的组成信息和CAN信号的相关参数设置。
7. Little Endian/Big Endian：数据在存储空间中的保存的方式。
8. WebAPI：是用于Web服务器或Web浏览器的应用程序编程接口。

### 1.4 参考文献
- 《构建之法——现代软件工程》（邹欣 著  人民邮电出版社） 
- 《GB8567-2006计算机软件文档编制规范》

## 2. 项目概述

### 2.1 产品背景
在现代汽车控制技术中，汽车会使用多个电子控制装置（ECU）来对整车进行控制。ECU之间的信息交换依赖于CAN bus来完成，CanTool装置完成Can bus上的信息内容的检测和控制。为了实现CAN bus上的数据的显示和控制，需要使用我们开发的CanToolApp来和CanTool装置通信。

### 2.2 产品描述
本次开发的软件系统安装在上位机上的CanToolApp for Windows，这是CanTool系统的总体的一部分，用于上位机与CanTool装置进行通信，并完成CAN信息、信号的显示与设定，CanTool系统的总体框架图如图所示。
![CanTool系统框图](http://img.blog.csdn.net/20171015203100120?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvR3N5U3Vuc2hpbmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

### 2.3 产品功能
本产品主要有以下功能：
- 接收和解析CanTool装置发来的CAN信息。
- 保存CAN信息，支持多种格式保存。
- 封装和发送CAN信息给CanTool装置。

### 2.4 用户的特点
本软件系统的最终用户是现代汽车的使用者，是大众普通人群，没有专业的计算机能力。因此要保证软件有良好的交互界面。

### 2.5 假设与约束
本软件开发工作的开发期限：截止到现代软件工程课程结束。

#### 假设

- 用户支持：假设本产品开发的各个环节中得到用户的有效支持和积极配合
- 技术支持：假设开发初期，项目设计合理，小组成员充分认识本产品的需求，认真学习相关知识。开发过程中遇到的技术问题可以及时得到老师的指导与帮助。开发后期，团队熟练掌握适用于该项目的技术，充分优化系统性能。
- 人员配合：假设团队成员的积极合作配合，项目开发过程中不会有突发情况导致项目成员无法正常参与开发工作。
- 小组配合：假设能够和测试小组相互合作配合，完成产品的测试。
- 时间限定：假设项目截止日期不会提前。
- 需求限定：假设项目需求确定后不会有太大改动。

#### 约束

- 人员约束：小组成员皆为软件工程专业研一学生，共 4人。
- 时间约束：本项的开发时间为8周，时间比较紧张，需要开发者合理规划时间。
- 管理约束：本次开发实行以一人担任组长，分工合作的模式进行。开发过程中遇到的问题通过小组会议讨论的得到解决。
- 技术约束：小组成员在相关技术水平方面存在一定的欠缺，缺乏相关的项目经验，需要在开发中并发学习多种技术和能力；在文档编写能力方面也有待提升。
- 其他约束：开发期间，小组成员还有其他科目的学习任务，将对项目进度造成一定影响。

## 3. 需求规定

### 3.1 对功能的规定
1. 能够搜索到本机所有可使用的COM口，并在弹出式ComboBox中以列表方式让用户选择CanTool装置在上位机中映射的COM口。

2. 能够设置CANtool装置的，包括CAN速率、CAN工作状态（open）、CAN初始化状态（close）(设定内容可保存到CanToolApp设定文件中)。

3. 能够同时接收到多个CAN信息

   (1)通过对CAN信息及CAN信号数据库解析，能够实现将CAN信息原始物理值实时显示在GUI界面中。

   (2)显示方式是可选择的，对于某个特定CAN信息可以选择仪表盘方式得到瞬时物理值信息，也可以通过实时物理值曲线查看特定CAN信息的物理值变化情况。

   (3)提供CAN信息保存功能，格式可以使CSV或者自定义。

4. 能够指定要发送的多个CAN信息

   (1)允许用户设定CAN信息中的CAN信号物理值

   (2)提供CAN信号的物理值转换成信号值的功能，发送给CanTool装置。

5. 实现加载用户提供的CAN信息和信号数据库

   (1)可以显示CAN信号在CAN信息的布局，可保存到CanToolApp设定文件。

   (2)可以树状结构显示在GUI界面中

   (3)可以另存为xml和JSON (JavaScript Object Notation)格式，也可以已将xml或Json格式的数据库，转换为CAN信息和信号数据库格式。

系统的用例图如图所示。
![用例图](http://img.blog.csdn.net/20171017223941928?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvR3N5U3Vuc2hpbmU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

### 3.2 对性能的规定
1. 可用性
- 桌面用户界面应符合Windows 10标准。

2. 可靠性
- 系统应每天24小时可用,停机时间不超过10%。
- 在任何给定的时间，WebAPI系统最多支持20个并发用户对中央数据库，最多可同时支持多达50个并发用户与本地服务器。
- 上位机处理串口数据时，不应丢失CanTool装置的传送的数据。

3.时间特性
- Web API系统必须能够在2分钟内完成上载CAN数据。
- CanTool装置采集的CAN数据以最小50毫秒的间隔发送给上位机。

3. 支持性
- 开发的全过程应有文档支持。
- 源代码必须由git / github管理。

4. 安全性
- WebAPI系统必须防止任何未经授权的人员更改任何数据。
- WebAPI系统，只允许注册商更改任何信息。

